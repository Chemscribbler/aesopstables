{% extends "base.html" %}

{% block content %}
<li class="alert alert-primary" role="alert">25-09-22 Due to Cobra reaching and exceeding feature parity, Aesops is
    planned to be sunsetted at the end of the year. It will stop accepting new tournaments in Novemeber, and be fully
    offline sometime around January 2026. All tournament data will be stored and a retrival plan will communicated in
    the future.</li>
{% if current_user.is_authenticated %}
<a href="{{ url_for('tournaments.create_tournament') }}" class="btn btn-primary">Create Tournament</a>
{% endif %}
<table class="table table-striped">
    <thead>
        <tr>
            <th>Tournament Name</th>
            <th>Current Round</th>
            <th>Number of Players</th>
            <th>Date</th>
        </tr>
    </thead>
    {% for tournament in tournaments|sort(attribute='date', reverse=True) %}
    <tr>
        <th><a href="{{ url_for('tournaments.tournament', tid=tournament.id) }}">{{ tournament.name }}</a></th>
        <th>{{ tournament.current_round }}</th>
        <th>{{ tournament.players | length}}</th>
        <th>{{ tournament.date.strftime("%Y-%m-%d") }}</th>
    </tr>
    {% endfor %}
</table>
{% if next_url %}
<a href="{{ next_url }}">Older tournaments</a>
{% endif %}
{% if prev_url %}
<a href="{{ prev_url }}">Newer tournaments</a>
{% endif %}

{% endblock %}